<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GP Clinic Financial Calculator</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f5f9fa;
      color: #333;
    }
    label, input {
      display: block;
      margin: 10px 0;
    }
    input[type="number"] {
      width: 100px;
    }
    .result {
      margin-top: 20px;
      padding: 20px;
      background-color: #e1f5fe;
      border: 1px solid #81d4fa;
    }
    canvas {
      margin-top: 40px;
    }
    button {
      margin: 10px 10px 0 0;
      padding: 10px;
      background-color: #0288d1;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    details {
      margin-top: 20px;
      padding: 10px;
      background-color: #e3f2fd;
      border: 1px solid #90caf9;
      border-radius: 5px;
    }
    summary {
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>GP Clinic Financial Calculator</h1>

  <label>Doctors: <input type="number" id="doctors" value="3"></label>
  <label>Patients per Doctor per Day: <input type="number" id="patients" value="35"></label>
  <label>Working Weeks per Year: <input type="number" id="weeks" value="48"></label>
  <label>Work Days per Week: <input type="number" id="days" value="5"></label>
  <label>Avg Fee per Consult ($): <input type="number" id="fee" value="78"></label>
  <label>GP Percentage of Billing (%): <input type="number" id="gpShare" value="65"></label>
  <label>FTE Nurses: <input type="number" id="fteNurses" value="1" step="0.1"></label>
  <label>Nurse Salary ($): <input type="number" id="nurse" value="85000"></label>
  <label>FTE Receptionists: <input type="number" id="fteReceptionists" value="1" step="0.1"></label>
  <label>Receptionist Salary ($): <input type="number" id="receptionist" value="60000"></label>

  <details>
    <summary>Operational Expenses</summary>
    <label>Practice Manager Salary ($): <input type="number" id="manager" value="95000"></label>
    <label>Rent & Utilities ($): <input type="number" id="rent" value="100000"></label>
    <label>Medical Supplies ($): <input type="number" id="supplies" value="40000"></label>
    <label>IT & Software ($): <input type="number" id="it" value="15000"></label>
    <label>Insurance & Compliance ($): <input type="number" id="insurance" value="20000"></label>
    <label>Marketing/Admin ($): <input type="number" id="marketing" value="10000"></label>
    <label>SEO ($): <input type="number" id="seo" value="6000"></label>
    <label>Website Maintenance ($): <input type="number" id="web" value="3000"></label>
    <label>Google Ads ($): <input type="number" id="google" value="6000"></label>
    <label>Facebook Ads ($): <input type="number" id="facebook" value="3000"></label>
    <label>Maintenance & Cleaning ($): <input type="number" id="cleaning" value="24000"></label>
    <label>Accounting & Bookkeeping ($): <input type="number" id="accounting" value="12000"></label>
    <label>Legal Fees ($): <input type="number" id="legal" value="8000"></label>
    <label>RACGP Accreditation Cost ($): <input type="number" id="accreditation" value="3000"></label>
  </details>

  <label>PIP & WIP Incentive Revenue ($): <input type="number" id="pipwip" value="25000"></label>

  <button onclick="calculate()">Calculate</button>
  <button onclick="graphProfitVsPatients()">Graph Profit vs Patients/Day</button>
  <button onclick="graphProfitVsGPShare()">Graph Profit vs GP % Share</button>
  <button onclick="graphProfitVsFee()">Graph Profit vs Fee per Consult</button>
  <button onclick="graphProfitVsDoctors()">Graph Profit vs Number of Doctors</button>
  <button onclick="resetDefaults()">Reset to Default Values</button>

  <div class="result" id="output"></div>
  <canvas id="profitChart" width="800" height="400"></canvas>

  <script>
    let chart;

    function resetDefaults() {
      const defaults = {
        doctors: 3, patients: 35, weeks: 48, days: 5, fee: 78, gpShare: 65,
        fteNurses: 1, nurse: 85000, fteReceptionists: 1, receptionist: 60000,
        manager: 95000, rent: 100000, supplies: 40000, it: 15000,
        insurance: 20000, marketing: 10000, seo: 6000, web: 3000,
        google: 6000, facebook: 3000, cleaning: 24000, accounting: 12000,
        legal: 8000, accreditation: 3000, pipwip: 25000
      };
      for (const id in defaults) {
        document.getElementById(id).value = defaults[id];
      }
      calculate();
    }
  </script>
</body>
</html>
